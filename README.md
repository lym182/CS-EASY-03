# 2024090914025-李伊眉-CS-03
## 问题回答
### 一.C语言内存模型
1. 栈溢出是一种程序运行时错误。当程序在栈上分配的空间超过了栈的最大容量时，就会发生栈溢出。

2. - **栈区**由编译器自动管理；
     **堆区**需要程序员手动用函数申请内存，使用完后也要手动释放，否则会内存泄漏。
   - **栈区**从高地址向低地址增长，遵循后进先出原则；
     **堆区**从低地址向高地址增长，分配和释放不连续，易产生内存碎片。
   - **栈区**大小有限，易溢出；
     **堆区**理论上受物理和虚拟内存限制，空间较大，但可能出现内存碎片。
   - **栈区**存储函数临时数据，生命周期与函数执行周期相关；
     **堆区**存储动态分配的数据，生命周期由程序员控制，适合长期使用或编译时不确定的数据。

3. - **只读**：常量区，代码区。
   - **可读写**：栈区，堆区，全局区（静态区）。

4. - malloc()函数的函数原型为void* malloc(size_t size);，其中size是需要分配的字节数。这个函数返回一个指向所分配内存块起始地址的void*类型指针。
   - free()函数用于释放之前通过malloc()、calloc()或realloc()等函数分配的内存。它的函数原型为void free(void* ptr);，其中ptr是一个指向之前在堆区分配的内存块的有效指针。
   - 堆区

5. - 避免内存泄漏
   - 防止悬空指针
   - 提高内存利用率
   - 优化程序性能

### 二.内存模型的应用
- constValue：常量存储区。因为它是一个常量整数，常量通常存储在专门的常量存储区域，在程序运行期间不能被修改。
  - *多次输出地址不改变*

- constString：常量存储区。字符串常量也被存储在常量存储区域，以确保其内容在程序运行期间不被改变。
  - *多次输出地址不改变*

- globalVar：全局数据区（静态存储区）。全局变量在程序启动时被分配内存，并且在整个程序的运行期间都存在，所以存储在全局数据区。
  - *多次输出前七位均为“00007ff”，后四位不变，其余随机变化*

- staticVar：全局数据区（静态存储区）。静态变量在程序启动时被分配内存，并且在整个程序的运行期间都存在，即使在函数执行结束后，其值也会被保留，所以存储在全局数据区。
  - *多次输出前七位均为“00007ff”，后四位不变，其余随机变化*

- localVar：栈区。局部变量通常存储在栈中，当函数被调用时分配内存，函数执行结束后自动释放。
  - *主函数中无法输出地址，函数中输出地址，前六位恒为“000000”，第十二十三位仍为“ff”，最后一位仍为“4”*

- ptr：栈区。ptr是一个局部变量，它是一个指针，指向通过malloc动态分配的内存。虽然它指向的内存是在堆上分配的，但ptr本身是在栈上分配的。
  - *主函数中无法输出地址，函数中输出地址，前六位恒为“000000”，第十二十三位仍为“ff”，最后一位仍为“0”*

- localVarMain：栈区。和其他局部变量一样，存储在栈中，在main函数执行期间存在，函数执行结束后自动释放。
  - *主函数中无法输出地址，函数中输出地址，前六位恒为“000000”，第十二十三位仍为“ff”，最后一位仍为“c”*

### 三.浅谈Cache
### 四.代码优化
